diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/configure.in src/gnome-vfs-2.22.0/configure.in
--- origsrc/gnome-vfs-2.22.0/configure.in	2008-03-10 14:22:27.000000000 -0500
+++ src/gnome-vfs-2.22.0/configure.in	2008-05-28 20:30:49.515625000 -0500
@@ -416,6 +416,7 @@
 [
   if test "x$enable_cdda" != "xno"; then
     AC_CHECK_HEADERS(cdda_interface.h cdda_paranoia.h, [
+	CDDA_CFLAGS=
 	CDDA_LIBS="$CDDA_LIBS -lcdda_paranoia -lcdda_interface"
 	have_cdda=yes
     ])
@@ -440,9 +441,18 @@
       ])
       AC_MSG_RESULT($cdda_with_libcam)
     fi
+
+    if test $have_cdda != yes; then
+      PKG_CHECK_MODULES(CDDA, libcdio_paranoia,
+        [AC_DEFINE(HAVE_CDIO, 1, [Define if using libcdio for cdda])
+        have_cdda=yes])
+    fi
+
   fi
 ])
+
 AM_CONDITIONAL(HAVE_CDDA, test $have_cdda = yes)
+AC_SUBST(CDDA_CFLAGS)
 AC_SUBST(CDDA_LIBS)
 
 dnl GSSAPI
@@ -799,6 +809,7 @@
 	LIBS="$LIBS -lresolv"
 	AC_MSG_CHECKING(for res_search in -lresolv)
 	AC_LINK_IFELSE([[
+		#include <netinet/in.h>
 		#include <resolv.h>
 		int main()
 		{
@@ -848,6 +859,7 @@
 	])
 fi
 
+AC_SUBST(RESOLVER_LIBS)
 
 have_getaddrinfo=no
 have_resolver=no
@@ -1000,12 +1012,14 @@
 					    have_gethostbyname=yes
 					    have_resolver=yes
 
-					    AC_DEFINE(USE_GETHOSTBYNAME, 1,
-							 [Define if gethostbyname is used for name resolution])
 					    break
 		])
       done
    fi
+   if test x$have_gethostbyname = "xyes" ; then
+   AC_DEFINE(USE_GETHOSTBYNAME, 1,
+   		 [Define if gethostbyname is used for name resolution])
+   fi
 fi
     
 dnl ==============================================================================
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/daemon/Makefile.am src/gnome-vfs-2.22.0/daemon/Makefile.am
--- origsrc/gnome-vfs-2.22.0/daemon/Makefile.am	2008-03-10 14:13:21.000000000 -0500
+++ src/gnome-vfs-2.22.0/daemon/Makefile.am	2008-05-28 20:30:49.531250000 -0500
@@ -27,10 +27,10 @@
 endif
 
 gnome_vfs_daemon_LDADD = 		\
-	$(LIBGNOMEVFS_LIBS)		\
-	$(LIBGNOMEVFSDAEMON_LIBS)	\
 	$(top_builddir)/libgnomevfs/libgnomevfsdaemon-2.la \
-	$(top_builddir)/libgnomevfs/libgnomevfs-2.la
+	$(top_builddir)/libgnomevfs/libgnomevfs-2.la \
+	$(LIBGNOMEVFS_LIBS)		\
+	$(LIBGNOMEVFSDAEMON_LIBS)
 
 gnome_vfs_daemon_SOURCES = \
 	dbus-utils.c			\
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/imported/Makefile.am src/gnome-vfs-2.22.0/imported/Makefile.am
--- origsrc/gnome-vfs-2.22.0/imported/Makefile.am	2008-03-10 14:13:13.000000000 -0500
+++ src/gnome-vfs-2.22.0/imported/Makefile.am	2008-05-28 20:30:49.546875000 -0500
@@ -1 +1,5 @@
-SUBDIRS=neon fnmatch
+SUBDIRS = neon
+
+if OS_WIN32
+SUBDIRS += fnmatch
+endif
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/imported/neon/Makefile.am src/gnome-vfs-2.22.0/imported/neon/Makefile.am
--- origsrc/gnome-vfs-2.22.0/imported/neon/Makefile.am	2008-03-10 14:13:13.000000000 -0500
+++ src/gnome-vfs-2.22.0/imported/neon/Makefile.am	2008-05-28 20:30:49.562500000 -0500
@@ -63,7 +63,7 @@
 NEON_EXTRA_SOURCES = ne_acl.c ne_gnomevfs.c
 
 libneon_la_LIBADD =			\
-	$(NEON_LIBS) $(NEON_LTLIBS)	\
+	$(NEON_LIBS) $(NEON_LTLIBS) $(OPENSSL_LIBS)	\
 	$(NULL)
 
 libneon_la_LDFLAGS =			\
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/modules/Makefile.am src/gnome-vfs-2.22.0/modules/Makefile.am
--- origsrc/gnome-vfs-2.22.0/modules/Makefile.am	2008-03-10 14:12:36.000000000 -0500
+++ src/gnome-vfs-2.22.0/modules/Makefile.am	2008-05-28 20:30:49.562500000 -0500
@@ -3,9 +3,10 @@
 INCLUDES =					\
 	-I$(top_srcdir)				\
 	-I$(top_builddir)			\
-	-I$(top_srcdir)/imported/neon		\
+	-I$(top_srcdir)/imported/neon	\
 	$(MODULES_XML_GCONF_CFLAGS)		\
 	$(MODULES_FILE_CFLAGS) 			\
+	$(CDDA_CFLAGS)				\
 	$(HOWL_CFLAGS)				\
 	$(AVAHI_CFLAGS)				\
 	$(LIBEFS_CFLAGS)			\
@@ -64,7 +65,7 @@
 PLATFROM_SPECIFIC_LTLIBS = libcomputer.la libdns-sd.la libnetwork.la libnntp.la libsftp.la libhttp.la libftp.la
 endif
 
-module_flags = -export_dynamic -avoid-version -module -no-undefined
+module_flags = -export-dynamic -avoid-version -module -no-undefined
 modulesdir = $(libdir)/gnome-vfs-2.0/modules
 
 modules_LTLIBRARIES =				\
@@ -102,7 +103,7 @@
 	cdda-cdrom-extensions.h
 
 libcdda_la_LDFLAGS = $(module_flags)
-libcdda_la_LIBADD = $(MODULES_LIBS) $(CDDA_LIBS) ../libgnomevfs/libgnomevfs-2.la
+libcdda_la_LIBADD = $(MODULES_GCONF_LIBS) $(CDDA_LIBS) ../libgnomevfs/libgnomevfs-2.la
 
 ###  `computer' method
 
@@ -182,7 +183,7 @@
 
 libftp_la_SOURCES = ftp-method.c
 libftp_la_LDFLAGS = $(module_flags)
-libftp_la_LIBADD = $(MODULES_LIBS) $(GSSAPI_LIBS) ../libgnomevfs/libgnomevfs-2.la
+libftp_la_LIBADD = $(MODULES_GCONF_LIBS) $(GSSAPI_LIBS) ../libgnomevfs/libgnomevfs-2.la
 
 ### `nfs' method
 
@@ -204,9 +205,9 @@
 
 libhttp_la_LDFLAGS = $(module_flags)
 libhttp_la_LIBADD  = 			\
-	$(MODULES_GCONF_LIBS) 	\
 	../imported/neon/libneon.la   \
-	../libgnomevfs/libgnomevfs-2.la
+	../libgnomevfs/libgnomevfs-2.la \
+	$(MODULES_GCONF_LIBS)
 
 libtar_la_SOURCES = tar-method.c tarpet.h 
 libtar_la_LDFLAGS = $(module_flags)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/modules/cdda-cddb.c src/gnome-vfs-2.22.0/modules/cdda-cddb.c
--- origsrc/gnome-vfs-2.22.0/modules/cdda-cddb.c	2008-03-10 14:12:36.000000000 -0500
+++ src/gnome-vfs-2.22.0/modules/cdda-cddb.c	2008-05-28 20:30:49.765625000 -0500
@@ -21,8 +21,6 @@
 
 */
 
-#include "cdda-cddb.h"
-
 #include <config.h>
 #include <stdio.h>
 #include <stdlib.h>
@@ -45,8 +43,14 @@
 
 #define size16 short
 #define size32 int
+
+#ifdef HAVE_CDIO
+#include <cdio/cdda.h>
+#else
 #include <cdda_interface.h>
+#endif
 
+#include "cdda-cddb.h"
 #include "cdda-cdrom-extensions.h"
 
 /* This is here to work around a broken header file.
@@ -54,7 +58,9 @@
  * chars that is unused. This will break our build
  * due to our strict error checking.
  */
+#ifndef HAVE_CDIO
 char **broken_header_fix2 = strerror_tr;
+#endif
 
 static int 	CDDBSum(int val);
 static int 	CDDBConnect(CDDBServer *server);
@@ -111,7 +117,9 @@
 	int index, tracksum = 0, discid, retval;
 	disc_info disc;
 
+#ifndef HAVE_CDIO
 	retval = CDStat (drive->ioctl_fd, &disc, TRUE);
+#endif
 	
 	for(index = 0; index < disc.disc_totaltracks; index++) {
     	tracksum += CDDBSum(disc.track[index].track_pos.minutes * 60 +
@@ -371,7 +379,9 @@
 
 	query->query_matches = 0;
 
+#ifndef HAVE_CDIO
   	CDStat (cd_desc->ioctl_fd, &disc, TRUE);
+#endif
 	
 	/* Figure out a good buffer size -- 7 chars per track, plus 256 for the rest of the query */
 	tot_len = (disc.disc_totaltracks * 7) + 256;
@@ -703,7 +713,9 @@
 		}
 	}
   
+#ifndef HAVE_CDIO
 	CDStat (cd_desc->ioctl_fd, &disc, TRUE);
+#endif
 
   ddata->data_id=CDDBDiscid(cd_desc);
   *(ddata->data_extended)='\0';
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/modules/cdda-cddb.h src/gnome-vfs-2.22.0/modules/cdda-cddb.h
--- origsrc/gnome-vfs-2.22.0/modules/cdda-cddb.h	2008-03-10 14:12:36.000000000 -0500
+++ src/gnome-vfs-2.22.0/modules/cdda-cddb.h	2008-05-28 20:30:49.781250000 -0500
@@ -28,7 +28,11 @@
 #define size16 short
 #define size32 int
 
+#ifdef HAVE_CDIO
+#include <cdio/cdda.h>
+#else
 #include <cdda_interface.h>
+#endif
 
 #define CURRENT_CDDBREVISION		2
 #define MAX_TRACKS					100
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/modules/cdda-method.c src/gnome-vfs-2.22.0/modules/cdda-method.c
--- origsrc/gnome-vfs-2.22.0/modules/cdda-method.c	2008-03-10 14:12:36.000000000 -0500
+++ src/gnome-vfs-2.22.0/modules/cdda-method.c	2008-05-28 20:30:49.796875000 -0500
@@ -24,7 +24,6 @@
 
 #include <config.h>
 
-#include "cdda-cddb.h"
 #include <errno.h>
 #include <gconf/gconf-client.h>
 #include <gconf/gconf.h>
@@ -45,7 +44,13 @@
 #include <time.h>
 #include <unistd.h>
 
+#ifdef HAVE_CDIO
+#include <cdio/paranoia.h>
+#else
 #include <cdda_paranoia.h>
+#endif
+
+#include "cdda-cddb.h"
 
 typedef struct {
 	GnomeVFSURI *uri;
@@ -73,7 +78,9 @@
  * chars that is unused. This will break our build
  * due to our strict error checking.
  */
+#ifndef HAVE_CDIO
 char **broken_header_fix = strerror_tr;
+#endif
 
 static GnomeVFSResult do_open	         	(GnomeVFSMethod              	*method,
 						 GnomeVFSMethodHandle         	**method_handle,
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/modules/http-proxy.c src/gnome-vfs-2.22.0/modules/http-proxy.c
--- origsrc/gnome-vfs-2.22.0/modules/http-proxy.c	2008-03-10 14:12:36.000000000 -0500
+++ src/gnome-vfs-2.22.0/modules/http-proxy.c	2008-05-28 20:30:49.812500000 -0500
@@ -27,6 +27,10 @@
 
 #include "http-proxy.h"
 
+#ifndef INET_ADDRSTRLEN
+# define INET_ADDRSTRLEN 16
+#endif
+
 /* #define DEBUG_HTTP(x) (g_print x) */
 #define DEBUG_HTTP(x)
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gnome-vfs-2.22.0/modules/http-proxy.h src/gnome-vfs-2.22.0/modules/http-proxy.h
--- origsrc/gnome-vfs-2.22.0/modules/http-proxy.h	2008-03-10 14:12:36.000000000 -0500
+++ src/gnome-vfs-2.22.0/modules/http-proxy.h	2008-05-28 20:30:49.828125000 -0500
@@ -23,7 +23,7 @@
 */
 
 #ifndef HTTP_PROXY_H
-#define HTTP_RROXY_H
+#define HTTP_PROXY_H
 
 
 typedef struct {
